/*!
* Angular Directives For Accessible Applications
*
* Copyright (C) 2017 Deque Systems Inc., All Rights Reserved
*
* See the project LICENSE file for usage - https://github.com/dequelabs/ngA11y/blob/master/LICENSE
*/
!function(){"use strict";var a;try{a=angular.module("ngA11y")}catch(b){a=angular.module("ngA11y",[])}a.directive("editableGrid",[function(){return{restrict:"E",replace:!0,transclude:!0,template:'<table role="grid" ng-transclude></table>',link:function(a,b){b.on("keydown",function(a){var b=a.which||a.keyCode;if(!(a.ctrlKey||a.shiftKey||a.metaKey||a.altKey)){for(var c,d,e,f,g=a.target.parentNode,h=g.parentNode;"BODY"!==h.nodeName;){if("TR"===h.nodeName&&(c=h),"TABLE"===h.nodeName){d=h;break}h=h.parentNode}if(d&&c)switch(b){case 38:e=c.previousElementSibling||c.previousSibling,e&&e.cells&&"TH"!==e.cells[g.cellIndex].nodeName&&e.cells[g.cellIndex].firstChild.focus();break;case 40:f=c.nextElementSibling||c.nextSibling,f&&f.cells&&f.cells[g.cellIndex].firstChild.focus()}}})}}}]),a.directive("editableGridRow",[function(){return{restrict:"E",replace:!0,transclude:!0,template:'<tr role="row" ng-transclude></tr>',link:function(a,b){}}}]),a.directive("editableGridCell",[function(){return{restrict:"E",replace:!0,transclude:!0,template:'<td role="cell" ng-transclude></td>',link:function(a,b,c){for(var d,e,f,g,h,i,j,k=b[0],l=k.parentNode;"BODY"!==l.nodeName;){if("TR"===l.nodeName&&(f=l),"TABLE"===l.nodeName){e=l;break}l=l.parentNode}if(e&&f&&(g=e.rows[0],f!==g&&"col"===g.cells[k.cellIndex].scope&&(i=g.cells[k.cellIndex],i.id||(i.id="id"+Math.random().toString().substring(2))),"row"===f.cells[0].scope&&(h=f.cells[0],h.id||(h.id="id"+Math.random().toString().substring(2))),e&&f&&c.type))switch(c.type){case"text":d=angular.element('<input type="text" />'),j="",h&&(j+=h.id),i&&(j&&(j+=" "),j+=i.id),j&&d.attr("aria-labelledby",j),b.append(d)}}}}]),a.directive("editableColumnHeader",[function(){return{restrict:"E",replace:!0,transclude:!0,template:'<th role="cell" scope="col" ng-transclude></th>',link:function(a,b){}}}]),a.directive("editableRowHeader",[function(){return{restrict:"E",replace:!0,transclude:!0,template:'<th role="cell" scope="row" ng-transclude></th>',link:function(a,b){}}}])}();